{namespace neos=TYPO3\Neos\ViewHelpers}
<f:render section="itemList" arguments="{items: items, site: site}" />

<f:section name="itemList">
    <nav class="navbar navbar-default" role="navigation">
        <div class="container">

            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!-- navbar-brand is hidden on larger screens, but visible when the menu is collapsed -->
                <a class="navbar-brand" href="{neos:uri.node(node: site)}">Aninguaq Coaching</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <f:for each="{items}" as="item" iteration="menuItemIterator">
                        <li class="{item.state}">
                        <neos:link.node node="{item.node}">{item.label}</neos:link.node>
                        <f:if condition="{item.subItems}">
                            <f:if condition="{0: item.state} != {0: 'normal'}">
                                <f:render section="subList" arguments="{items: item.subItems}" />
                            </f:if>
                        </f:if>
                        </li>
                    </f:for>
                </ul>
            </div>
            <!-- /.navbar-collapse -->

        </div>
    </nav>
</f:section>

<f:section name="subList">
    <ul class="second-level-sub-navigation nav nav-justified visible-xs">
        <f:for each="{items}" as="item">
            <li class="{item.state}">
            <neos:link.node node="{item.node}">{item.label}</neos:link.node>
            </li>
        </f:for>
    </ul>
</f:section>
